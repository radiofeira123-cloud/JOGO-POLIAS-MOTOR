<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Correia Escape Room ‚Äî Jogo Completo</title>
<style>
    body {
        margin: 0;
        background: #111;
        font-family: Arial;
        color: #fff;
        user-select: none;
    }
    #game {
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        position: relative;
    }

    .scene {
        width: 100%;
        height: 100%;
        position: absolute;
        display: none;
        padding: 20px;
    }

    .active {
        display: block;
    }

    #panel {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 15px;
        background: rgba(0,0,0,0.6);
        font-size: 18px;
        text-align: center;
    }

    .btn {
        padding: 10px 20px;
        border: none;
        background: #333;
        color: #fff;
        border-radius: 8px;
        margin: 8px;
        cursor: pointer;
        font-size: 18px;
    }

    .btn:hover {
        background: #555;
    }

    .polia {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        border: 8px solid #666;
        position: absolute;
    }

    #correia1 {
        position: absolute;
        height: 25px;
        background: #222;
        border: 3px solid #555;
        border-radius: 10px;
        cursor: grab;
        transition: 0.1s;
        top: 300px;
    }

    #capoCarro {
        font-size: 28px;
        margin-top: 40px;
        text-align: center;
    }

    .inputBox {
        background: #222;
        color: #fff;
        padding: 8px;
        border: 1px solid #555;
        margin-top: 10px;
        width: 120px;
        text-align: center;
        border-radius: 6px;
    }
</style>
</head>
<body>

<div id="game">

<!-- ============================= -->
<!-- ======   SALA 1  ============ -->
<!-- ============================= -->
<div id="sala1" class="scene active">
    <h1>üõ†Ô∏è Sala 1 ‚Äî Tens√£o da Correia Auxiliar</h1>
    <p>O alternador n√£o gira. Ajuste a tens√£o da correia arrastando-a.</p>

    <div id="poliaEsq" class="polia" style="left:150px; top:250px; border-color:#8cff8c;"></div>
    <div id="poliaDir" class="polia" style="right:150px; top:250px; border-color:#8cb8ff;"></div>

    <div id="correia1" style="left:260px; width:500px;"></div>

    <div id="panel">Arraste a correia ‚Üí Encontre a tens√£o certa.</div>
</div>

<!-- ============================= -->
<!-- ======   SALA 2  ============ -->
<!-- ============================= -->
<div id="sala2" class="scene">
    <h1>‚öôÔ∏è Sala 2 ‚Äî Sincroniza√ß√£o da Correia Dentada</h1>
    <p>Calcule a rota√ß√£o correta para sincronizar comando e virabrequim.</p>
    <p>Se o virabrequim gira a <b>1200 rpm</b> e sua polia tem <b>3 cm</b>, enquanto o comando tem <b>6 cm</b>‚Ä¶</p>
    <p>Qual a rota√ß√£o do comando?</p>

    <input id="rpmComando" class="inputBox" placeholder="rpm">
    <button class="btn" onclick="checkSala2()">Confirmar</button>

    <div id="panel2" style="margin-top:20px;"></div>
</div>

<!-- ============================= -->
<!-- ======   SALA 3  ============ -->
<!-- ============================= -->
<div id="sala3" class="scene">
    <h1>üîß Sala 3 ‚Äî Torque da Polia Travada</h1>
    <p>Tau = F √ó d</p>
    <p>Precisamos de <b>45 Nm</b> para soltar a polia. A chave tem <b>0,25 m</b>.</p>
    <p>Qual for√ßa m√≠nima deve aplicar?</p>

    <input id="forcaTorque" class="inputBox" placeholder="N">
    <button class="btn" onclick="checkSala3()">Confirmar</button>

    <div id="panel3" style="margin-top:20px;"></div>
</div>

<!-- ============================= -->
<!-- ======   SALA 4  ============ -->
<!-- ============================= -->
<div id="sala4" class="scene">
    <h1>üíß Sala 4 ‚Äî Pot√™ncia da Bomba d‚Äô√Ågua</h1>
    <p>P = œÑ √ó œâ</p>
    <p>A bomba precisa de <b>0,45 kW</b> e possui torque de <b>1,5 Nm</b>.</p>
    <p>Qual rota√ß√£o angular m√≠nima (rad/s)?</p>

    <input id="rotacaoBomba" class="inputBox" placeholder="rad/s">
    <button class="btn" onclick="checkSala4()">Confirmar</button>

    <div id="panel4" style="margin-top:20px;"></div>
</div>

<!-- ============================= -->
<!-- ======   SALA 5  ============ -->
<!-- ============================= -->
<div id="sala5" class="scene">
    <h1>üî• Sala 5 ‚Äî Atrito e Escorregamento da Correia</h1>
    <p>Fmax = Œº √ó N</p>
    <p>A correia suporta <b>60 N</b> de atrito m√°ximo. O alternador exige <b>55 N</b>.</p>
    <p>A correia escorrega?</p>

    <input id="escorrega" class="inputBox" placeholder="sim / nao">
    <button class="btn" onclick="checkSala5()">Confirmar</button>

    <div id="panel5" style="margin-top:20px;"></div>
</div>

<!-- ============================= -->
<!-- ======   FINAL  ============ -->
<!-- ============================= -->
<div id="final" class="scene">
    <h1>üöóüí® VOC√ä CONSEGUIU!</h1>
    <p>O carro liga, o motor gira suave, as correias funcionam.</p>
    <h2>üîì A porta da oficina abre e voc√™ escapa!</h2>
</div>

</div>

<script>
/* ============================
   SALA 1 ‚Äî TENS√ÉO DA CORREIA
============================ */
let correia = document.getElementById("correia1");
let panel = document.getElementById("panel");

let dragging = false;
let offsetX = 0;

const MIN = 480;
const MAX = 520;

correia.addEventListener("mousedown", e => {
    dragging = true;
    offsetX = e.clientX - correia.offsetLeft;
    correia.style.cursor = "grabbing";
});
document.addEventListener("mouseup", () => dragging = false);
document.addEventListener("mousemove", e => {
    if (dragging) {
        let x = e.clientX - offsetX;
        correia.style.left = x + "px";
        checkTension(x);
    }
});

function checkTension(x) {
    if (x >= MIN && x <= MAX) {
        panel.textContent = "Tens√£o PERFEITA! ‚úî Clique para ir √† Sala 2.";
        panel.style.background = "rgba(0,200,0,0.6)";
        panel.onclick = () => changeScene("sala2");
    } else if (x < MIN) {
        panel.textContent = "Correia FROUXA ‚Üí escorrega.";
        panel.style.background = "rgba(200,0,0,0.4)";
    } else {
        panel.textContent = "Correia MUITO esticada ‚Üí risco de romper.";
        panel.style.background = "rgba(200,0,0,0.4)";
    }
}

/* ============================
   SALA 2
============================ */
function checkSala2() {
    let v = Number(document.getElementById("rpmComando").value);
    if (v === 600) {
        document.getElementById("panel2").innerHTML =
            "‚úî Correto! 600 rpm. <br><br><button class='btn' onclick='changeScene(\"sala3\")'>Ir para a Sala 3</button>";
    } else {
        document.getElementById("panel2").innerHTML = "‚ùå Errado. Tente novamente.";
    }
}

/* ============================
   SALA 3
============================ */
function checkSala3() {
    let v = Number(document.getElementById("forcaTorque").value);
    if (v === 180) {
        document.getElementById("panel3").innerHTML =
            "‚úî Certo! 180 N. <br><br><button class='btn' onclick='changeScene(\"sala4\")'>Ir para a Sala 4</button>";
    } else {
        document.getElementById("panel3").innerHTML = "‚ùå Errado.";
    }
}

/* ============================
   SALA 4
============================ */
function checkSala4() {
    let v = Number(document.getElementById("rotacaoBomba").value);
    if (v === 300) {
        document.getElementById("panel4").innerHTML =
            "‚úî Correto! 300 rad/s.<br><br><button class='btn' onclick='changeScene(\"sala5\")'>Ir para a Sala 5</button>";
    } else {
        document.getElementById("panel4").innerHTML = "‚ùå N√£o √© isso.";
    }
}

/* ============================
   SALA 5
============================ */
function checkSala5() {
    let v = document.getElementById("escorrega").value.toLowerCase();
    if (v === "nao" || v === "n√£o") {
        document.getElementById("panel5").innerHTML =
            "‚úî Correto! A correia N√ÉO escorrega.<br><br><button class='btn' onclick='changeScene(\"final\")'>Finalizar</button>";
    } else {
        document.getElementById("panel5").innerHTML = "‚ùå Errado.";
    }
}

/* ============================
   Troca de cenas
============================ */
function changeScene(id) {
    document.querySelectorAll(".scene").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}
</script>

</body>
</html>
